<mxfile host="Electron" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/26.0.16 Chrome/132.0.6834.196 Electron/34.2.0 Safari/537.36" version="26.0.16">
  <diagram name="Page-1" id="iSE8riGNTM3ZHj8-rc8Q">
    <mxGraphModel dx="2726" dy="2077" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="kXF1PDn_looBXiAdyyww-1" value="Client Application" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" vertex="1" parent="1">
          <mxGeometry x="20" y="20" width="150" height="1285" as="geometry" />
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-2" value="ChatController" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" vertex="1" parent="1">
          <mxGeometry x="346" y="20" width="150" height="1285" as="geometry" />
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-3" value="Application Service" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" vertex="1" parent="1">
          <mxGeometry x="605" y="20" width="159" height="1285" as="geometry" />
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-4" value="LLMAdapterService" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" vertex="1" parent="1">
          <mxGeometry x="1037" y="20" width="163" height="1285" as="geometry" />
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-5" value="LLMAdapterFactory" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" vertex="1" parent="1">
          <mxGeometry x="1311" y="20" width="163" height="1285" as="geometry" />
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-6" value="LLM Provider Adapter" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" vertex="1" parent="1">
          <mxGeometry x="1524" y="20" width="177" height="1285" as="geometry" />
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-7" value="External LLM API" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" vertex="1" parent="1">
          <mxGeometry x="1828" y="20" width="150" height="1285" as="geometry" />
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-8" value="Repository" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" vertex="1" parent="1">
          <mxGeometry x="2028" y="20" width="150" height="1285" as="geometry" />
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-9" value="Database" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" vertex="1" parent="1">
          <mxGeometry x="2332" y="20" width="150" height="1285" as="geometry" />
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-10" value="opt" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" vertex="1" parent="1">
          <mxGeometry x="673" y="187" width="1745" height="229" as="geometry" />
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-11" value="[If session exists]" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" vertex="1" parent="kXF1PDn_looBXiAdyyww-10">
          <mxGeometry x="30" width="1715" height="20" as="geometry" />
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-12" value="opt" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" vertex="1" parent="1">
          <mxGeometry x="673" y="840" width="1745" height="229" as="geometry" />
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-13" value="[If session tracking enabled]" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" vertex="1" parent="kXF1PDn_looBXiAdyyww-12">
          <mxGeometry x="30" width="1715" height="20" as="geometry" />
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-14" value="SendMessage(message, sessionId)" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" edge="1" parent="1" source="kXF1PDn_looBXiAdyyww-1" target="kXF1PDn_looBXiAdyyww-2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="267" y="121" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-15" value="ProcessChatMessage(dto)" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" edge="1" parent="1" source="kXF1PDn_looBXiAdyyww-2" target="kXF1PDn_looBXiAdyyww-3">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="561" y="167" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-16" value="GetSessionById(sessionId)" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" edge="1" parent="1" source="kXF1PDn_looBXiAdyyww-3" target="kXF1PDn_looBXiAdyyww-8">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1402" y="258" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-17" value="Query" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" edge="1" parent="1" source="kXF1PDn_looBXiAdyyww-8" target="kXF1PDn_looBXiAdyyww-9">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2263" y="304" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-18" value="Session data" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" edge="1" parent="1" source="kXF1PDn_looBXiAdyyww-9" target="kXF1PDn_looBXiAdyyww-8">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2266" y="350" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-19" value="Session entity" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" edge="1" parent="1" source="kXF1PDn_looBXiAdyyww-8" target="kXF1PDn_looBXiAdyyww-3">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1405" y="396" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-20" value="GenerateChatResponseAsync(messages, options)" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" edge="1" parent="1" source="kXF1PDn_looBXiAdyyww-3" target="kXF1PDn_looBXiAdyyww-4">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="910" y="452" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-21" value="CreateAdapter(modelName)" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" edge="1" parent="1" source="kXF1PDn_looBXiAdyyww-4" target="kXF1PDn_looBXiAdyyww-5">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1264" y="498" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-22" value="new Adapter(config)" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" edge="1" parent="1" source="kXF1PDn_looBXiAdyyww-5" target="kXF1PDn_looBXiAdyyww-6">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1511" y="544" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-23" value="LLM Provider Adapter" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" edge="1" parent="1" source="kXF1PDn_looBXiAdyyww-5" target="kXF1PDn_looBXiAdyyww-4">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1267" y="590" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-24" value="GenerateChatResponseAsync(messages, options)" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" edge="1" parent="1" source="kXF1PDn_looBXiAdyyww-4" target="kXF1PDn_looBXiAdyyww-6">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1374" y="636" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-25" value="HTTP POST /chat/completions" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" edge="1" parent="1" source="kXF1PDn_looBXiAdyyww-6" target="kXF1PDn_looBXiAdyyww-7">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1766" y="682" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-26" value="JSON Response" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" edge="1" parent="1" source="kXF1PDn_looBXiAdyyww-7" target="kXF1PDn_looBXiAdyyww-6">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1769" y="728" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-27" value="LLMResponse" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" edge="1" parent="1" source="kXF1PDn_looBXiAdyyww-6" target="kXF1PDn_looBXiAdyyww-4">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1377" y="774" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-28" value="LLMResponse" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" edge="1" parent="1" source="kXF1PDn_looBXiAdyyww-4" target="kXF1PDn_looBXiAdyyww-3">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="913" y="820" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-29" value="SavePrompt(prompt)" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" edge="1" parent="1" source="kXF1PDn_looBXiAdyyww-3" target="kXF1PDn_looBXiAdyyww-8">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1402" y="911" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-30" value="SaveResponse(response)" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" edge="1" parent="1" source="kXF1PDn_looBXiAdyyww-3" target="kXF1PDn_looBXiAdyyww-8">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1402" y="957" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-31" value="Insert/Update" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" edge="1" parent="1" source="kXF1PDn_looBXiAdyyww-8" target="kXF1PDn_looBXiAdyyww-9">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2263" y="1003" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-32" value="Success" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" edge="1" parent="1" source="kXF1PDn_looBXiAdyyww-9" target="kXF1PDn_looBXiAdyyww-8">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2266" y="1049" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-33" value="ChatResponseDTO" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" edge="1" parent="1" source="kXF1PDn_looBXiAdyyww-3" target="kXF1PDn_looBXiAdyyww-2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="564" y="1105" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-34" value="ChatResponse" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" edge="1" parent="1" source="kXF1PDn_looBXiAdyyww-2" target="kXF1PDn_looBXiAdyyww-1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="270" y="1151" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kXF1PDn_looBXiAdyyww-35" value="This diagram shows the flow of a chat message through the system" style="fillColor=#ffff88;strokeColor=#9E916F;" vertex="1" parent="1">
          <mxGeometry x="70" y="1171" width="2362" height="49" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
